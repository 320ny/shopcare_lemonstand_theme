---
action: 'shop:login'
template: main
protocol: all
published: true
name: 'Checkout Start'
url: /checkout-start
---
{% if customer %}
<div>
  <div>
    <div>
      <div>
        <h3>Continue checkout as {{ customer.first_name }}</h3>
        <p>Continue checkout as the currently logged in customer, {{ customer.first_name }}.</p>
        <a href="{{ site_url('checkout') }}">Continue as {{ customer.first_name }}</a>
      </div>

      <div>
        <h3>Continue checkout as guest</h3>
        <p>Logout and continue checkout as guest. No sign up required.</p>
        <a href="{{ site_url('logout/?redirect=checkout') }}">Logout</a>
      </div>
    </div>
  </div>
</div>
{% else %}
<div>
  <div>
    <div>
      <div>
        <h3>Login</h3>
        {{ open_form({'data-ajax-handler': 'shop:onLogin'}) }}
          <div>
            <div>
              <label for="login_email">E-mail Address</label>
              <input type="text" id="login_email" name="email" value="{{ post('email') }}"/>
            </div>
          </div>
          <div>
            <div>
              <label for="login_password">Password</label>
              <input type="password" name="password" id="login_password" />
            </div>
          </div>
          
          <input type="submit" class="button" value="Login"/>
          <a href="{{ site_url('/password-restore') }}">Forgot your password?</a>
          
          <input type="hidden" name="redirect" value="{{ site_url('/checkout') }}"/>
        {{ close_form() }}
      </div>

      <div>
        <h3>Continue checkout as guest</h3>
        <p>Continue checkout as guest. No sign up required.</p>
        <a class="button" href="{{ site_url('checkout') }}">Continue as guest</a>
      </div>
    </div>
  </div>
</div>
{% endif %}